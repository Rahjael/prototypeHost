var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function r(t){return t()}function o(){return Object.create(null)}function i(t){t.forEach(r)}function c(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(e,n,r){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function u(t,e,n){return t.set(n),e}const l="undefined"!=typeof window;let d=l?()=>window.performance.now():()=>Date.now(),m=l?t=>requestAnimationFrame(t):t;const f=new Set;function p(t){f.forEach((e=>{e.c(t)||(f.delete(e),e.f())})),0!==f.size&&m(p)}function v(t,e){t.appendChild(e)}function h(t,e,n){t.insertBefore(e,n||null)}function b(t){t.parentNode.removeChild(t)}function $(t){return document.createElement(t)}function g(t){return document.createTextNode(t)}function y(){return g(" ")}function x(){return g("")}function w(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function P(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function k(t){return""===t?null:+t}function C(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function H(t,e){t.value=null==e?"":e}function j(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}function E(t,e,n){t.classList[n?"add":"remove"](e)}let L;function _(t){L=t}function A(){const t=function(){if(!L)throw new Error("Function called outside component initialization");return L}();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const o=function(t,e,n=!1){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,!1,e),r}(e,n);r.slice().forEach((e=>{e.call(t,o)}))}}}const S=[],T=[],N=[],O=[],z=Promise.resolve();let F=!1;function I(t){N.push(t)}let M=!1;const R=new Set;function D(){if(!M){M=!0;do{for(let t=0;t<S.length;t+=1){const e=S[t];_(e),B(e.$$)}for(_(null),S.length=0;T.length;)T.pop()();for(let t=0;t<N.length;t+=1){const e=N[t];R.has(e)||(R.add(e),e())}N.length=0}while(S.length);for(;O.length;)O.pop()();F=!1,M=!1,R.clear()}}function B(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(I)}}const q=new Set;let X;function Y(){X={r:0,c:[],p:X}}function G(){X.r||i(X.c),X=X.p}function J(t,e){t&&t.i&&(q.delete(t),t.i(e))}function U(t,e,n,r){if(t&&t.o){if(q.has(t))return;q.add(t),X.c.push((()=>{q.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}function K(t){t&&t.c()}function Q(t,e,n,o){const{fragment:s,on_mount:a,on_destroy:u,after_update:l}=t.$$;s&&s.m(e,n),o||I((()=>{const e=a.map(r).filter(c);u?u.push(...e):i(e),t.$$.on_mount=[]})),l.forEach(I)}function V(t,e){const n=t.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function W(t,e){-1===t.$$.dirty[0]&&(S.push(t),F||(F=!0,z.then(D)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Z(e,n,r,c,s,a,u,l=[-1]){const d=L;_(e);const m=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:s,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:n.context||[]),callbacks:o(),dirty:l,skip_bound:!1,root:n.target||d.$$.root};u&&u(m.root);let f=!1;if(m.ctx=r?r(e,n.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return m.ctx&&s(m.ctx[t],m.ctx[t]=o)&&(!m.skip_bound&&m.bound[t]&&m.bound[t](o),f&&W(e,t)),n})):[],m.update(),f=!0,i(m.before_update),m.fragment=!!c&&c(m.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);m.fragment&&m.fragment.l(t),t.forEach(b)}else m.fragment&&m.fragment.c();n.intro&&J(e.$$.fragment),Q(e,n.target,n.anchor,n.customElement),D()}_(d)}class tt{$destroy(){V(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function et(e){let n,r,o,i,c;return{c(){n=$("header"),r=$("h1"),o=g(e[0]),i=y(),c=$("hr")},m(t,e){h(t,n,e),v(n,r),v(r,o),v(n,i),v(n,c)},p(t,[e]){1&e&&C(o,t[0])},i:t,o:t,d(t){t&&b(n)}}}function nt(t,e,n){let{title:r="Combat Tracker"}=e;return t.$$set=t=>{"title"in t&&n(0,r=t.title)},[r]}class rt extends tt{constructor(t){super(),Z(this,t,nt,et,s,{title:0})}}function ot(e){let n;return{c(){n=$("footer"),n.textContent="FOOTER",P(n,"class","svelte-8y9upj")},m(t,e){h(t,n,e)},p:t,i:t,o:t,d(t){t&&b(n)}}}class it extends tt{constructor(t){super(),Z(this,t,null,ot,s,{})}}function ct(t){let e,n,r,o,c,s,a,u,l;function d(t,e){return"combatant"===t[0].type?at:"timer"===t[0].type?st:void 0}let m=d(t),f=m&&m(t);return{c(){e=$("div"),n=$("div"),r=$("div"),f&&f.c(),o=y(),c=$("button"),c.textContent="Update Item",s=y(),a=$("button"),a.textContent="Cancel",P(c,"class","svelte-1cnvz0b"),P(a,"class","svelte-1cnvz0b"),P(n,"class","overlay-container svelte-1cnvz0b"),P(e,"class","overlay-background svelte-1cnvz0b")},m(i,d){h(i,e,d),v(e,n),v(n,r),f&&f.m(r,null),v(n,o),v(n,c),v(n,s),v(n,a),u||(l=[w(c,"click",t[1]),w(a,"click",t[2])],u=!0)},p(t,e){m===(m=d(t))&&f?f.p(t,e):(f&&f.d(1),f=m&&m(t),f&&(f.c(),f.m(r,null)))},d(t){t&&b(e),f&&f.d(),u=!1,i(l)}}}function st(t){let e,n,r,o,c,s,a;return{c(){e=$("input"),n=y(),r=$("input"),o=y(),c=$("input"),P(e,"type","text"),P(e,"placeholder","Timer name"),P(r,"type","number"),P(r,"class","num svelte-1cnvz0b"),P(r,"placeholder","Rounds Left"),P(c,"type","number"),P(c,"class","num svelte-1cnvz0b"),P(c,"placeholder","Rounds Started")},m(i,u){h(i,e,u),H(e,t[0].name),h(i,n,u),h(i,r,u),H(r,t[0].roundsLeft),h(i,o,u),h(i,c,u),H(c,t[0].roundsStarted),s||(a=[w(e,"input",t[6]),w(r,"input",t[7]),w(c,"input",t[8])],s=!0)},p(t,n){1&n&&e.value!==t[0].name&&H(e,t[0].name),1&n&&k(r.value)!==t[0].roundsLeft&&H(r,t[0].roundsLeft),1&n&&k(c.value)!==t[0].roundsStarted&&H(c,t[0].roundsStarted)},d(t){t&&b(e),t&&b(n),t&&b(r),t&&b(o),t&&b(c),s=!1,i(a)}}}function at(t){let e,n,r,o,c,s,a;return{c(){e=$("input"),n=y(),r=$("input"),o=y(),c=$("input"),P(e,"type","text"),P(e,"placeholder","Combatant name"),P(r,"type","number"),P(r,"class","num svelte-1cnvz0b"),P(r,"placeholder","Current HP"),P(c,"type","number"),P(c,"class","num svelte-1cnvz0b"),P(c,"placeholder","Max HP")},m(i,u){h(i,e,u),H(e,t[0].name),h(i,n,u),h(i,r,u),H(r,t[0].currentHP),h(i,o,u),h(i,c,u),H(c,t[0].maxHP),s||(a=[w(e,"input",t[3]),w(r,"input",t[4]),w(c,"input",t[5])],s=!0)},p(t,n){1&n&&e.value!==t[0].name&&H(e,t[0].name),1&n&&k(r.value)!==t[0].currentHP&&H(r,t[0].currentHP),1&n&&k(c.value)!==t[0].maxHP&&H(c,t[0].maxHP)},d(t){t&&b(e),t&&b(n),t&&b(r),t&&b(o),t&&b(c),s=!1,i(a)}}}function ut(e){let n,r=e[0]&&ct(e);return{c(){r&&r.c(),n=x()},m(t,e){r&&r.m(t,e),h(t,n,e)},p(t,[e]){t[0]?r?r.p(t,e):(r=ct(t),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:t,o:t,d(t){r&&r.d(t),t&&b(n)}}}function lt(t,e,n){let{itemToEdit:r}=e,o=A();return t.$$set=t=>{"itemToEdit"in t&&n(0,r=t.itemToEdit)},[r,()=>{o("dbChanged",""),n(0,r=void 0)},()=>{n(0,r=void 0)},function(){r.name=this.value,n(0,r)},function(){r.currentHP=k(this.value),n(0,r)},function(){r.maxHP=k(this.value),n(0,r)},function(){r.name=this.value,n(0,r)},function(){r.roundsLeft=k(this.value),n(0,r)},function(){r.roundsStarted=k(this.value),n(0,r)}]}class dt extends tt{constructor(t){super(),Z(this,t,lt,ut,s,{itemToEdit:0})}}const mt=[];function ft(e,n=t){let r;const o=new Set;function i(t){if(s(e,t)&&(e=t,r)){const t=!mt.length;for(const t of o)t[1](),mt.push(t,e);if(t){for(let t=0;t<mt.length;t+=2)mt[t][0](mt[t+1]);mt.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(c,s=t){const a=[c,s];return o.add(a),1===o.size&&(r=n(i)||t),c(e),()=>{o.delete(a),0===o.size&&(r(),r=null)}}}}const pt=ft([{name:"Johnny Hotbody",currentHP:13,maxHP:15,type:"combatant"},{name:"Magical Shield on Mia",roundsLeft:4,roundsStarted:10,type:"timer"},{name:"Mia Featherbottom",currentHP:5,maxHP:8,type:"combatant"},{name:"Frank Frankovic",currentHP:18,maxHP:18,type:"combatant"},{name:"BOMB EXPLODES!",roundsLeft:6,roundsStarted:6,type:"timer"},{name:"Stinking Cloud",roundsLeft:9,roundsStarted:10,type:"timer"},{name:"The Great Cthulhu Himself",currentHP:1500,maxHP:1e5,type:"combatant"},{name:"Deep One",currentHP:24,maxHP:25,type:"combatant"}]);function vt(t){let e;return{c(){e=$("div"),e.textContent="Input is invalid. Please check format.",P(e,"class","text-invalid svelte-1h3dd0k")},m(t,n){h(t,e,n)},d(t){t&&b(e)}}}function ht(e){let n,r,o,c,s,a,u,l,d=!e[1]&&vt();return{c(){n=$("div"),r=$("div"),o=$("textarea"),c=y(),d&&d.c(),s=y(),a=$("button"),a.textContent="Add Combatants",P(o,"rows","10"),P(o,"columns","50"),P(o,"placeholder",e[3]),P(o,"class","svelte-1h3dd0k"),E(o,"invalid",!e[1]),P(a,"class","svelte-1h3dd0k"),P(r,"class","overlay-container svelte-1h3dd0k"),P(n,"class","overlay-background svelte-1h3dd0k")},m(t,i){h(t,n,i),v(n,r),v(r,o),H(o,e[0]),v(r,c),d&&d.m(r,null),v(r,s),v(r,a),u||(l=[w(o,"input",e[4]),w(a,"click",e[2])],u=!0)},p(t,[e]){1&e&&H(o,t[0]),2&e&&E(o,"invalid",!t[1]),t[1]?d&&(d.d(1),d=null):d||(d=vt(),d.c(),d.m(r,s))},i:t,o:t,d(t){t&&b(n),d&&d.d(),u=!1,i(l)}}}function bt(t,e,n){let r;a(t,pt,(t=>n(5,r=t)));let o="",i=!0,c=A();return[o,i,()=>{let t=(()=>{if(""==o)return"";let t=o.split("\n");return t=t.map((t=>{let[e,n,r]=t.split(",");return{name:e.trim(),currentHP:Number(n),maxHP:Number(r),type:"combatant"}})),n(1,i=t.every((t=>!(void 0===t.name||!Number.isInteger(t.currentHP)||!Number.isInteger(t.maxHP))))),t})();i&&(c("closeAddCombatants",""),""!==t&&u(pt,r=r.concat(t),r))},"You can add a combatant in every line.\n  Format is 'name, currentHP, maxHP'. For example, these two lines\n  \n  Roger, 5, 6\n  Paladin, 34, 34\n\n  will track two new combatants:\n  Roger, with 5 hit points out of 6 and Paladin, with a full 34 hp.\n  ",function(){o=this.value,n(0,o)}]}class $t extends tt{constructor(t){super(),Z(this,t,bt,ht,s,{})}}function gt(t){let e;return{c(){e=$("div"),e.textContent="Input is invalid. Please check format.",P(e,"class","text-invalid svelte-1h3dd0k")},m(t,n){h(t,e,n)},d(t){t&&b(e)}}}function yt(e){let n,r,o,c,s,a,u,l,d=!e[1]&&gt();return{c(){n=$("div"),r=$("div"),o=$("textarea"),c=y(),d&&d.c(),s=y(),a=$("button"),a.textContent="Add Timers",P(o,"rows","10"),P(o,"columns","50"),P(o,"placeholder","You can add a timer in every line. Format is 'name, duration'"),P(o,"class","svelte-1h3dd0k"),E(o,"invalid",!e[1]),P(a,"class","svelte-1h3dd0k"),P(r,"class","overlay-container svelte-1h3dd0k"),P(n,"class","overlay-background svelte-1h3dd0k")},m(t,i){h(t,n,i),v(n,r),v(r,o),H(o,e[0]),v(r,c),d&&d.m(r,null),v(r,s),v(r,a),u||(l=[w(o,"input",e[3]),w(a,"click",e[2])],u=!0)},p(t,[e]){1&e&&H(o,t[0]),2&e&&E(o,"invalid",!t[1]),t[1]?d&&(d.d(1),d=null):d||(d=gt(),d.c(),d.m(r,s))},i:t,o:t,d(t){t&&b(n),d&&d.d(),u=!1,i(l)}}}function xt(t,e,n){let r;a(t,pt,(t=>n(4,r=t)));let o="",i=!0,c=A();return[o,i,()=>{let t=(()=>{if(""==o)return"";let t=o.split("\n");return t=t.map((t=>{let[e,n]=t.split(",");return{name:e.trim(),roundsLeft:Number(n),roundsStarted:Number(n),type:"timer"}})),n(1,i=t.every((t=>!(void 0===t.name||!Number.isInteger(t.roundsLeft)||!Number.isInteger(t.roundsStarted))))),t})();i&&(c("closeAddTimer",""),""!==t&&u(pt,r=r.concat(t),r))},function(){o=this.value,n(0,o)}]}class wt extends tt{constructor(t){super(),Z(this,t,xt,yt,s,{})}}function Pt(t){const e=t*t;return t<4/11?7.5625*e:t<8/11?9.075*e-9.9*t+3.4:t<.9?4356/361*e-35442/1805*t+16061/1805:10.8*t*t-20.52*t+10.72}function kt(t){return"[object Date]"===Object.prototype.toString.call(t)}function Ct(t,e){if(t===e||t!=t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const n=e.map(((e,n)=>Ct(t[n],e)));return t=>n.map((e=>e(t)))}if("object"===n){if(!t||!e)throw new Error("Object cannot be null");if(kt(t)&&kt(e)){t=t.getTime();const n=(e=e.getTime())-t;return e=>new Date(t+e*n)}const n=Object.keys(e),r={};return n.forEach((n=>{r[n]=Ct(t[n],e[n])})),t=>{const e={};return n.forEach((n=>{e[n]=r[n](t)})),e}}if("number"===n){const n=e-t;return e=>t+e*n}throw new Error(`Cannot interpolate ${n} values`)}function Ht(t,r={}){const o=ft(t);let i,c=t;function s(s,a){if(null==t)return o.set(t=s),Promise.resolve();c=s;let u=i,l=!1,{delay:v=0,duration:h=400,easing:b=e,interpolate:$=Ct}=n(n({},r),a);if(0===h)return u&&(u.abort(),u=null),o.set(t=c),Promise.resolve();const g=d()+v;let y;return i=function(t){let e;return 0===f.size&&m(p),{promise:new Promise((n=>{f.add(e={c:t,f:n})})),abort(){f.delete(e)}}}((e=>{if(e<g)return!0;l||(y=$(t,s),"function"==typeof h&&(h=h(t,s)),l=!0),u&&(u.abort(),u=null);const n=e-g;return n>h?(o.set(t=s),!1):(o.set(t=y(b(n/h))),!0)})),i.promise}return{set:s,update:(e,n)=>s(e(c,t),n),subscribe:o.subscribe}}function jt(e){let n,r,o;return{c(){n=$("button"),n.textContent=`${St}`,P(n,"class","up-down svelte-1e07j1a")},m(t,i){h(t,n,i),r||(o=w(n,"click",e[4]),r=!0)},p:t,d(t){t&&b(n),r=!1,o()}}}function Et(e){let n,r,o;return{c(){n=$("button"),n.textContent=`${Tt}`,P(n,"class","up-down svelte-1e07j1a")},m(t,i){h(t,n,i),r||(o=w(n,"click",e[5]),r=!0)},p:t,d(t){t&&b(n),r=!1,o()}}}function Lt(t){let e,n,r,o,i,c,s,a=t[0].name+"",u=t[0].roundsLeft+"";return{c(){e=$("div"),n=$("div"),r=y(),o=$("span"),i=g(a),c=g(" - Rounds left: "),s=g(u),P(n,"class","timer-left svelte-1e07j1a"),j(n,"width",t[2]+"%"),P(o,"class","timer-name svelte-1e07j1a"),P(e,"class","timer-bar svelte-1e07j1a"),E(e,"timer-expired",0===t[0].roundsLeft)},m(t,a){h(t,e,a),v(e,n),v(e,r),v(e,o),v(o,i),v(o,c),v(o,s)},p(t,r){4&r&&j(n,"width",t[2]+"%"),1&r&&a!==(a=t[0].name+"")&&C(i,a),1&r&&u!==(u=t[0].roundsLeft+"")&&C(s,u),1&r&&E(e,"timer-expired",0===t[0].roundsLeft)},d(t){t&&b(e)}}}function _t(t){let e,n,r,o,c,s,a,u,l,d,m,f,p,x,k,H,L,_,A=t[0].name+"",S=t[0].currentHP+"",T=t[0].maxHP+"";return{c(){e=$("div"),n=$("div"),r=y(),o=$("span"),c=g(A),s=g(" ( "),a=g(S),u=g(" / "),l=g(T),d=g(")"),m=y(),f=$("button"),f.textContent="-1",p=y(),x=$("button"),x.textContent="-5",k=y(),H=$("button"),H.textContent="-10",P(n,"class","hp-current svelte-1e07j1a"),j(n,"width",t[2]+"%"),P(o,"class","combatant-name svelte-1e07j1a"),P(e,"class","hp-bar svelte-1e07j1a"),E(e,"dead-combatant",0===t[0].currentHP),P(f,"class","svelte-1e07j1a"),P(x,"class","svelte-1e07j1a"),P(H,"class","svelte-1e07j1a")},m(i,b){h(i,e,b),v(e,n),v(e,r),v(e,o),v(o,c),v(o,s),v(o,a),v(o,u),v(o,l),v(o,d),h(i,m,b),h(i,f,b),h(i,p,b),h(i,x,b),h(i,k,b),h(i,H,b),L||(_=[w(f,"click",t[12]),w(x,"click",t[13]),w(H,"click",t[14])],L=!0)},p(t,r){4&r&&j(n,"width",t[2]+"%"),1&r&&A!==(A=t[0].name+"")&&C(c,A),1&r&&S!==(S=t[0].currentHP+"")&&C(a,S),1&r&&T!==(T=t[0].maxHP+"")&&C(l,T),1&r&&E(e,"dead-combatant",0===t[0].currentHP)},d(t){t&&b(e),t&&b(m),t&&b(f),t&&b(p),t&&b(x),t&&b(k),t&&b(H),L=!1,i(_)}}}function At(e){let n,r,o,c,s,a,u,l,d,m,f=!e[0].isFirst&&jt(e),p=!e[0].isLast&&Et(e);function g(t,e){return"combatant"===t[0].type?_t:"timer"===t[0].type?Lt:void 0}let x=g(e),k=x&&x(e);return{c(){n=$("div"),r=$("div"),f&&f.c(),o=y(),p&&p.c(),c=y(),s=$("button"),s.textContent="Edit",a=y(),u=$("button"),u.textContent="X",l=y(),k&&k.c(),P(r,"class","buttons-move-container svelte-1e07j1a"),P(s,"class","svelte-1e07j1a"),P(u,"class","button-delete svelte-1e07j1a"),P(n,"class","initiative-item svelte-1e07j1a"),E(n,"current-item",e[0]===e[1])},m(t,i){h(t,n,i),v(n,r),f&&f.m(r,null),v(r,o),p&&p.m(r,null),v(n,c),v(n,s),v(n,a),v(n,u),v(n,l),k&&k.m(n,null),d||(m=[w(s,"click",e[10]),w(u,"click",e[11])],d=!0)},p(t,[e]){t[0].isFirst?f&&(f.d(1),f=null):f?f.p(t,e):(f=jt(t),f.c(),f.m(r,o)),t[0].isLast?p&&(p.d(1),p=null):p?p.p(t,e):(p=Et(t),p.c(),p.m(r,null)),x===(x=g(t))&&k?k.p(t,e):(k&&k.d(1),k=x&&x(t),k&&(k.c(),k.m(n,null))),3&e&&E(n,"current-item",t[0]===t[1])},i:t,o:t,d(t){t&&b(n),f&&f.d(),p&&p.d(),k&&k.d(),d=!1,i(m)}}}let St="▲",Tt="▼";function Nt(t,e,n){let r,o,i;a(t,pt,(t=>n(15,o=t)));let c=A(),{item:s}=e,{currentItem:l}=e;const d=Ht(0,{delay:50,duration:1e3,easing:Pt});a(t,d,(t=>n(2,i=t)));let m=(t,e)=>{t.currentHP+=e,t.currentHP<0&&(t.currentHP=0),c("dbChanged","")},f=t=>{c("showEditOverlay",t)},p=t=>{u(pt,o=o.filter((e=>e.name!=t.name)),o),c("dbChanged","")};return t.$$set=t=>{"item"in t&&n(0,s=t.item),"currentItem"in t&&n(1,l=t.currentItem)},t.$$.update=()=>{1&t.$$.dirty&&n(9,r=(()=>{let t,e;return"combatant"===s.type?(t=s.currentHP,e=s.maxHP):"timer"===s.type&&(t=s.roundsLeft,e=s.roundsStarted),100*t/e})()),512&t.$$.dirty&&d.set(r)},[s,l,i,d,()=>{c("moveElement",[s,"up"])},()=>{c("moveElement",[s,"down"])},m,f,p,r,()=>f(s),()=>p(s),()=>m(s,-1),()=>m(s,-5),()=>m(s,-10)]}class Ot extends tt{constructor(t){super(),Z(this,t,Nt,At,s,{item:0,currentItem:1})}}function zt(t,e,n){const r=t.slice();return r[12]=e[n],r}function Ft(t){let e,n;return e=new Ot({props:{item:t[12],currentItem:t[0]}}),e.$on("moveElement",t[5]),e.$on("dbChanged",t[9]),e.$on("showEditOverlay",t[10]),{c(){K(e.$$.fragment)},m(t,r){Q(e,t,r),n=!0},p(t,n){const r={};16&n&&(r.item=t[12]),1&n&&(r.currentItem=t[0]),e.$set(r)},i(t){n||(J(e.$$.fragment,t),n=!0)},o(t){U(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function It(e){let n,r;return n=new $t({}),n.$on("closeAddCombatants",e[6]),n.$on("dbChanged",e[9]),{c(){K(n.$$.fragment)},m(t,e){Q(n,t,e),r=!0},p:t,i(t){r||(J(n.$$.fragment,t),r=!0)},o(t){U(n.$$.fragment,t),r=!1},d(t){V(n,t)}}}function Mt(e){let n,r;return n=new wt({}),n.$on("closeAddTimer",e[7]),n.$on("dbChanged",e[9]),{c(){K(n.$$.fragment)},m(t,e){Q(n,t,e),r=!0},p:t,i(t){r||(J(n.$$.fragment,t),r=!0)},o(t){U(n.$$.fragment,t),r=!1},d(t){V(n,t)}}}function Rt(t){let e,n,r,o,c,s,a,u,l,d,m,f,p,g,k,C,H,j,E=t[4],L=[];for(let e=0;e<E.length;e+=1)L[e]=Ft(zt(t,E,e));const _=t=>U(L[t],1,1,(()=>{L[t]=null}));f=new dt({props:{itemToEdit:t[1]}}),f.$on("dbChanged",t[9]);let A=t[3]&&It(t),S=t[2]&&Mt(t);return{c(){e=$("div"),n=$("div"),r=$("div");for(let t=0;t<L.length;t+=1)L[t].c();o=y(),c=$("button"),c.textContent="Next!",s=y(),a=$("div"),u=$("button"),u.textContent="Add Combatants",l=y(),d=$("button"),d.textContent="Add Timers",m=y(),K(f.$$.fragment),p=y(),A&&A.c(),g=y(),S&&S.c(),k=x(),P(r,"id","items-container"),P(r,"class","svelte-rbxjji"),P(c,"id","button-next"),P(c,"class","svelte-rbxjji"),P(n,"id","initiative-frame"),P(n,"class","svelte-rbxjji"),P(u,"class","button-add-something svelte-rbxjji"),P(d,"class","button-add-something svelte-rbxjji"),P(a,"id","adding-buttons-container"),P(a,"class","svelte-rbxjji"),P(e,"id","tool-container"),P(e,"class","svelte-rbxjji")},m(i,b){h(i,e,b),v(e,n),v(n,r);for(let t=0;t<L.length;t+=1)L[t].m(r,null);v(n,o),v(n,c),v(e,s),v(e,a),v(a,u),v(a,l),v(a,d),h(i,m,b),Q(f,i,b),h(i,p,b),A&&A.m(i,b),h(i,g,b),S&&S.m(i,b),h(i,k,b),C=!0,H||(j=[w(c,"click",t[8]),w(u,"click",t[6]),w(d,"click",t[7])],H=!0)},p(t,[e]){if(1585&e){let n;for(E=t[4],n=0;n<E.length;n+=1){const o=zt(t,E,n);L[n]?(L[n].p(o,e),J(L[n],1)):(L[n]=Ft(o),L[n].c(),J(L[n],1),L[n].m(r,null))}for(Y(),n=E.length;n<L.length;n+=1)_(n);G()}const n={};2&e&&(n.itemToEdit=t[1]),f.$set(n),t[3]?A?(A.p(t,e),8&e&&J(A,1)):(A=It(t),A.c(),J(A,1),A.m(g.parentNode,g)):A&&(Y(),U(A,1,1,(()=>{A=null})),G()),t[2]?S?(S.p(t,e),4&e&&J(S,1)):(S=Mt(t),S.c(),J(S,1),S.m(k.parentNode,k)):S&&(Y(),U(S,1,1,(()=>{S=null})),G())},i(t){if(!C){for(let t=0;t<E.length;t+=1)J(L[t]);J(f.$$.fragment,t),J(A),J(S),C=!0}},o(t){L=L.filter(Boolean);for(let t=0;t<L.length;t+=1)U(L[t]);U(f.$$.fragment,t),U(A),U(S),C=!1},d(t){t&&b(e),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(L,t),t&&b(m),V(f,t),t&&b(p),A&&A.d(t),t&&b(g),S&&S.d(t),t&&b(k),H=!1,i(j)}}}function Dt(t,e,n){let r,o,i,c;a(t,pt,(t=>n(4,c=t))),c.forEach(((t,e,n)=>{t.isFirst=0===e,t.isLast=e===n.length-1}));let s=c[0],l=()=>{pt.set(c)};return n(3,r=!1),n(2,o=!1),n(1,i=void 0),[s,i,o,r,c,t=>{let e=c.indexOf(t.detail[0]),n=e;"up"===t.detail[1]?n--:n++;let r=c.map(((t,r,o)=>r===e?o[n]:r===n?o[e]:t));u(pt,c=[...r],c),c.forEach(((t,e,n)=>{t.isFirst=0===e,e===n.length-1?t.isLast=!0:t.isLast=!1}))},()=>{n(3,r=!r)},()=>{n(2,o=!o)},()=>{let t=c.indexOf(s);t+1===c.length&&c.forEach((t=>{"timer"===t.type&&t.roundsLeft>0&&t.roundsLeft--})),t=(t+1)%c.length,n(0,s=c[t]),l()},l,t=>{n(1,i=t.detail)}]}class Bt extends tt{constructor(t){super(),Z(this,t,Dt,Rt,s,{})}}function qt(e){let n,r,o,i,c,s,a,u;return r=new rt({}),c=new Bt({}),a=new it({}),{c(){n=$("div"),K(r.$$.fragment),o=y(),i=$("div"),K(c.$$.fragment),s=y(),K(a.$$.fragment),P(n,"id","header-container"),P(n,"class","svelte-1y3n173"),P(i,"id","page-container"),P(i,"class","svelte-1y3n173")},m(t,e){h(t,n,e),Q(r,n,null),h(t,o,e),h(t,i,e),Q(c,i,null),h(t,s,e),Q(a,t,e),u=!0},p:t,i(t){u||(J(r.$$.fragment,t),J(c.$$.fragment,t),J(a.$$.fragment,t),u=!0)},o(t){U(r.$$.fragment,t),U(c.$$.fragment,t),U(a.$$.fragment,t),u=!1},d(t){t&&b(n),V(r),t&&b(o),t&&b(i),V(c),t&&b(s),V(a,t)}}}return new class extends tt{constructor(t){super(),Z(this,t,null,qt,s,{})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
